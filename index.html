<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>A drop in the ocean</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="A drop in the ocean">
<meta property="og:url" content="http://megaboich.github.io/index.html">
<meta property="og:site_name" content="A drop in the ocean">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A drop in the ocean">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="A drop in the ocean" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">A drop in the ocean</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://megaboich.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Setting-Up-Git-Svn-From-Very-Beginning" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/02/Setting-Up-Git-Svn-From-Very-Beginning/" class="article-date">
  <time datetime="2016-04-01T22:00:00.000Z" itemprop="datePublished">2016-04-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/02/Setting-Up-Git-Svn-From-Very-Beginning/">Setting up Git-Svn from very beginning</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This post is a very short instruction how to set up and configure running git-svn with legacy SVN repository.</p>
<h2 id="Create-GIT-repository"><a href="#Create-GIT-repository" class="headerlink" title="Create GIT repository"></a>Create GIT repository</h2><p>First of all it is necessary to init GIT repository, clone it from SVN. And it is good to have some number of recent commits.<br>First of all you need to decide at which starting point you want to have history.<br>Usually it is useful to have last year or two, if you want more than your local repository might be very big and slow, also it will take a lot of time to get all that from SVN.<br>First of all we need to check out repository at specific version.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># checkout a specific revision 217000 which dated October 23, 2014</span><br><span class="line">git svn clone -r 217000 http://url-to-your-svn-repo</span><br></pre></td></tr></table></figure>
<p>After some about 15 minutes (depends on your connection to SVN server) you should have local Git repository for that specific version.<br>Then we are going to update it to the most recent version. This will surely take a lot of time (it can take a week, so please keep calm).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git svn rebase</span><br></pre></td></tr></table></figure>
<p>One more command is to generate .gitignore file from SVN settings.<br>This step might be not necessary because you probably not the first one running this procedure.<br>So it might be already .gitignore file committed by one of your colleagues before. Nevertheless this is the command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git svn show-ignore &gt; .gitignore</span><br></pre></td></tr></table></figure>
<h2 id="Working-on-everyday-basis"><a href="#Working-on-everyday-basis" class="headerlink" title="Working on everyday basis"></a>Working on everyday basis</h2><p>Ok, after you created GIT repository you can work with it in any way you want.<br>It is very enjoyable to create as many local branches as you want and fast switching between them.<br>There are many ways to work with Git and this is not a topic of this article.<br>After finishing your work you should merge all changes to ‘git-svn’ branch and execute</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git svn dcommit</span><br></pre></td></tr></table></figure>
<p>That will push your changes to SVN. If your version is not the latest it will not allow to push changes.<br>In this case you need to pull latest code from SVN.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git svn rebase</span><br></pre></td></tr></table></figure>
<h2 id="SVN-externals"><a href="#SVN-externals" class="headerlink" title="SVN externals"></a>SVN externals</h2><p>Workaround: to get svn externals working in git it is possible to get list of all externals via command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn propget svn:externals -R</span><br></pre></td></tr></table></figure>
<p>Then you can execute simple powershell script that downloads files from svn to your git repository.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Write-host &apos;Update svn externals. Version 0.0.1&apos;</span><br><span class="line">$ext = </span><br><span class="line">    @(</span><br><span class="line">        (&quot;build&quot;, &quot;url-to-svn-repo&quot;),</span><br><span class="line">        (&quot;AutomatedTestScripts\TestServer\Platform&quot;, &quot;url-to-another-svn-repo&quot;),</span><br><span class="line">        ...</span><br><span class="line">        (&quot;Platform\PlatformSDK&quot;,&quot;url-to-yet-another-svn-repo&quot;)</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">$currentLocation = Split-Path -parent $MyInvocation.MyCommand.Definition</span><br><span class="line">$projectRoot = $currentLocation + &apos;\..\..\&apos;</span><br><span class="line">    </span><br><span class="line">Write-Host &quot;R:$projectRoot&quot;</span><br><span class="line">    </span><br><span class="line">foreach($e in $ext)&#123;</span><br><span class="line">    $folder = $projectRoot + $e[0];</span><br><span class="line">    $svnPath = $e[1];</span><br><span class="line">    </span><br><span class="line">    Write-Host &quot;======&quot;</span><br><span class="line">    Write-Host $folder </span><br><span class="line">    Write-Host $svnPath</span><br><span class="line">    </span><br><span class="line">    svn export --force &quot;$svnPath&quot; &quot;$folder&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And if you don’t want to see all these files in uncommited state you shoud add them to your .gitignore file.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://megaboich.github.io/2016/04/02/Setting-Up-Git-Svn-From-Very-Beginning/" data-id="cip1ntgcu0005xgunlw1h8guu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GIT-SVN/">GIT SVN</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Javascript-implementation-of-custom-AStar-Algorithm" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/" class="article-date">
  <time datetime="2013-06-10T22:00:00.000Z" itemprop="datePublished">2013-06-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/">Javascript implementation of custom A* algorithm</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Recently I had a lot of interest for Javascript and decided to implement something funny and interesting.<br>For me it was a problem of finding a way through the maze. So, I searched a bit<br>and found that this kind of problems are usually solved with path finding algorithms and one of those is A<em>.<br>After sore investigating I found very good article by Patrick Lester ([A</em> Pathfinding for Beginners](<a href="http://www.gamedev.net/page/resources/_/technical/artificial-intelligence/a-pathfinding-for-beginners-r2003" target="_blank" rel="external">http://www.gamedev.net/page/resources/_/technical/artificial-intelligence/a-pathfinding-for-beginners-r2003</a>)).<br>My interest progressed to this demo implementation, and it is possible to play with it a bit right here.</p>
<p>So, here are the rules:</p>
<ul>
<li>Double click on the cells to build walls</li>
<li>Select cell, then press “Set Start” or “Set Finish” buttons to change start/destination point</li>
</ul>
<div><br>  <link rel="stylesheet" href="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/styles.css"><br><br>  <button id="gen-field-btn" class="btn btn-default">Generate New Field</button><br>  <span class="input-group-addon">Width</span><br>  <input id="field-width" type="text" class="form-control" value="10"><br>  <span class="input-group-addon">Height</span><br>  <input id="field-height" type="text" class="form-control" value="10"><br><br>  <div class="panel panel-default"><br>    <div class="panel-body"><br>      <div id="field-container"><br>      </div><br>    </div><br>  </div>

  <button id="set-start-btn" class="btn btn-default">Set Start</button><br>  <button id="set-finish-btn" class="btn btn-default">Set Finish</button><br>  <button id="go-btn" class="btn btn-success">Go!</button>

<p>  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script><br>  <script src="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/a-star-algorithm.js"></script><br>  <script src="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/field-designer.js"></script><br>  <script src="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/run.js"></script><br></p></div><p></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://megaboich.github.io/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/" data-id="cip1ntgct0004xgunf8zoi731" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-PowerShell-View-Engine-Asp-style" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/08/06/PowerShell-View-Engine-Asp-style/" class="article-date">
  <time datetime="2012-08-05T22:00:00.000Z" itemprop="datePublished">2012-08-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/08/06/PowerShell-View-Engine-Asp-style/">PowerShell View Engine - Asp style</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hi everyone. In this article I want to describe my custom view engine for PowerShell. This one is simple and powerful enough. Here is list of requirements that I had implemented:</p>
<ol>
<li>Views stores separately from code in Html files.</li>
<li>Support of nested Views, inline PowerShell code.</li>
<li>Using Asp-style separators &lt;%…%&gt;.</li>
<li>Works everywhere, only PowerShell 2.0 is required without additional tweaks.</li>
</ol>
<p>First of all I was trying to find something already implemented, but with bad luck. Someone tries Razor engine, but this is very complicated and requires additional tweaks. Someone indeed implemented their own engines, but with some custom syntax and with poor functionality. So when a bright idea came into my mind I implemented my own view engine.</p>
<p>Here is screenshot of view to use with my engine.</p>
<img src="/2012/08/06/PowerShell-View-Engine-Asp-style/image_2.png" alt="Sample view" title="Sample view">
<h4 id="Implemetation"><a href="#Implemetation" class="headerlink" title="Implemetation"></a>Implemetation</h4><p>When I first was discovering PowerShell I was thrilled by inline string PowerShell evaluation functionality. For example your expression:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$test</span> = <span class="string">"&lt;div&gt; $(<span class="variable">$env:COMPUTERNAME</span>)&lt;/div&gt;"</span></span><br></pre></td></tr></table></figure>
<p>Will be evaluated at runtime to something like this:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>MYCOMPUTER<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This is indeed very simple View Engine right out of the box. With it you can build complicated template like this:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$Model</span> = @&#123;&#125;    </span><br><span class="line"><span class="variable">$Model</span>.Title = <span class="string">'Hello, this is a test'</span></span><br><span class="line"><span class="variable">$Model</span>.Clients = @(<span class="string">'Ivan'</span>, <span class="string">'Sergiy'</span>, <span class="string">'John'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#view render method 1 - embedded powershell string evaluation</span></span><br><span class="line"><span class="variable">$html</span> = <span class="string">"</span><br><span class="line">&lt;h1&gt;</span><br><span class="line">	$(<span class="variable">$Model</span>.Title)</span><br><span class="line">&lt;/h1&gt;</span><br><span class="line">&lt;div class="</span><span class="string">"test"</span><span class="string">"&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		$( foreach(<span class="variable">$client</span> in <span class="variable">$Model</span>.Clients) &#123;"</span></span><br><span class="line">		&lt;li&gt;</span><br><span class="line">			$( <span class="variable">$client</span> )</span><br><span class="line">		&lt;/li&gt;</span><br><span class="line">		<span class="string">"&#125;)</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;"</span></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="variable">$html</span></span><br></pre></td></tr></table></figure>
<p>As you can see PowerShell parser is able to distinguish nested language expressions inside $() blocks, and this is extremely useful for implementation of loops and if-then statements.</p>
<p>This method is ready for use for small templates, but it has some cons:</p>
<ol>
<li>View markup is included in code, rather than separate file.</li>
<li>Nested views not supported.</li>
<li>Syntax is complicated, when you miss ),} or “ it is hard to find where the problem is.</li>
<li>You need to encode double quotes.</li>
</ol>
<p>Ok, first two problems can be solved with next function:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> RenderViewNativePowerShell(</span><br><span class="line">	[Parameter(Mandatory=<span class="literal">$true</span>)][string] <span class="variable">$viewName</span>,</span><br><span class="line">	[Parameter(Mandatory=<span class="literal">$true</span>)][Object] <span class="variable">$model</span></span><br><span class="line">)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="variable">$viewFileName</span> = <span class="built_in">Resolve-Path</span> (<span class="string">'Views\'</span> + <span class="variable">$viewName</span>)</span><br><span class="line">	<span class="variable">$templateContent</span> = <span class="built_in">Get-Content</span> <span class="variable">$viewFileName</span> | <span class="built_in">Out-String</span></span><br><span class="line">	<span class="keyword">return</span> <span class="variable">$ExecutionContext</span>.InvokeCommand.ExpandString(<span class="string">'"'</span> + <span class="variable">$templateContent</span> + <span class="string">'"'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It loads template from file and then uses the PowerShell string evaluation on it. (It was hard to find this function in language reference).</p>
<p>This function can be called this way:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#view render method 2 - templates powershell evaluation</span></span><br><span class="line">RenderViewNativePowerShell <span class="string">'Test_ps.html'</span> <span class="variable">$Model</span></span><br></pre></td></tr></table></figure>
<p>It supports nested views, take a look at view ‘test_ps.html’</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$( RenderViewNativePowerShell <span class="string">'header_ps.html'</span> <span class="variable">$Model</span> )</span><br><span class="line"></span><br><span class="line">&lt;div class=<span class="string">""</span>test<span class="string">""</span>&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">		 $( <span class="keyword">foreach</span>(<span class="variable">$client</span> <span class="keyword">in</span> <span class="variable">$Model</span>.Clients) &#123;<span class="string">"</span><br><span class="line">			&lt;li&gt;</span><br><span class="line">				$( <span class="variable">$client</span> )</span><br><span class="line">			&lt;/li&gt;</span><br><span class="line">		"</span>&#125;)</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>Ok, this is already very useful implementation, but what about using Asp-like &lt;%… %&gt;formatting? This special closures has support in many specialized text editors and very convenient for many people. So, next idea was simply replace Asp &lt;%…%&gt;braces to its PowerShell equivalents $(…). But this was not so simple because PowerShell syntax needs to be different in cases when nested code blocks used.</p>
<p>After some struggling I was able to implement Regex parsing expression and intelligent replace logic. Here it is:</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> RenderView(</span><br><span class="line">	[Parameter(Mandatory=<span class="literal">$true</span>)][string] <span class="variable">$viewName</span>,</span><br><span class="line">	[Parameter(Mandatory=<span class="literal">$true</span>)][Object] <span class="variable">$model</span></span><br><span class="line">)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="variable">$viewFileName</span> = <span class="built_in">Resolve-Path</span> (<span class="string">'Views\'</span> + <span class="variable">$viewName</span>)</span><br><span class="line">	<span class="variable">$templateContent</span> = <span class="built_in">Get-Content</span> <span class="variable">$viewFileName</span> | <span class="built_in">Out-String</span></span><br><span class="line">	</span><br><span class="line">	<span class="variable">$rx</span> = <span class="built_in">New-Object</span> System.Text.RegularExpressions.Regex(<span class="string">'(&lt;%.*?%&gt;)'</span>, [System.Text.RegularExpressions.RegexOptions]::Singleline)</span><br><span class="line">	<span class="variable">$res</span> = @()</span><br><span class="line">	<span class="variable">$splitted</span> = <span class="variable">$rx</span>.Split(<span class="variable">$templateContent</span>);</span><br><span class="line">	<span class="keyword">foreach</span>(<span class="variable">$part</span> <span class="keyword">in</span> <span class="variable">$splitted</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="variable">$part</span>.StartsWith(<span class="string">'&lt;%'</span>) -and <span class="variable">$part</span>.EndsWith(<span class="string">'%&gt;'</span>)) <span class="comment">#transform &lt;%...%&gt; blocks</span></span><br><span class="line">		&#123;    </span><br><span class="line">			<span class="variable">$expr</span> = <span class="variable">$part</span>.Substring(<span class="number">2</span>, <span class="variable">$part</span>.Length-<span class="number">4</span>) <span class="comment">#remove &lt;%%&gt;</span></span><br><span class="line">			<span class="variable">$normExpr</span> = <span class="variable">$expr</span>.Replace(<span class="string">'`n'</span>,<span class="string">''</span>).Replace(<span class="string">'`r'</span>,<span class="string">''</span>).Trim();</span><br><span class="line">			</span><br><span class="line">			<span class="variable">$startClosure</span> = <span class="string">'$('</span></span><br><span class="line">			<span class="variable">$endClosure</span> = <span class="string">')'</span></span><br><span class="line">			<span class="keyword">if</span> (<span class="variable">$normExpr</span>.EndsWith(<span class="string">'&#123;'</span>)) &#123;</span><br><span class="line">				<span class="variable">$endClosure</span> = <span class="string">'"'</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (<span class="variable">$normExpr</span>.StartsWith(<span class="string">'&#125;'</span>)) &#123;</span><br><span class="line">				<span class="variable">$startClosure</span> = <span class="string">'"'</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="variable">$res</span> += @(<span class="variable">$startClosure</span> + <span class="variable">$expr</span> + <span class="variable">$endClosure</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="comment">#encode text blocks</span></span><br><span class="line">		&#123;    </span><br><span class="line">			<span class="variable">$expr</span> = <span class="variable">$part</span>.Replace(<span class="string">'"'</span>, <span class="string">'""'</span>);</span><br><span class="line">			<span class="variable">$res</span> += @(<span class="variable">$expr</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="variable">$viewExpr</span> = <span class="variable">$res</span> -join <span class="string">''</span></span><br><span class="line">	<span class="keyword">return</span> <span class="variable">$ExecutionContext</span>.InvokeCommand.ExpandString(<span class="string">'"'</span> + <span class="variable">$viewExpr</span> + <span class="string">'"'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This code also replaces “ to “”, so it is ready for Html views.</p>
<p>Here is screenshot from Visual Studio:</p>
<img src="/2012/08/06/PowerShell-View-Engine-Asp-style/image_4.png" alt="View in Visual Studio" title="View in Visual Studio">
<p>Looks nice.</p>
<p>All source code with samples and tests you can find on <a href="https://github.com/megaboich/PowerShellViewEngine" target="_blank" rel="external">GitHub</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://megaboich.github.io/2012/08/06/PowerShell-View-Engine-Asp-style/" data-id="cip1ntgcb0001xgunucypaexq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Powershell/">Powershell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Diff-Merge-Tool-Selector" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2012/03/02/Diff-Merge-Tool-Selector/" class="article-date">
  <time datetime="2012-03-01T23:00:00.000Z" itemprop="datePublished">2012-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/03/02/Diff-Merge-Tool-Selector/">Diff Merge Tool Selector</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>DiffMergeSelector might be a helpful tool in case you have several favorite diff/merge tools. It works like “proxy” between your diff tools and your IDE, SVN, Git, Mercurial or any other development tool.<br>For example you can configure Tortoise SVN to use DiffMergeSelector as external merge tool:</p>
<img src="/2012/03/02/Diff-Merge-Tool-Selector/svn-settings.png" alt="Tortoise SVN Settings" title="Tortoise SVN Settings">
<p>Then each time when you launch diff from Tortoise SVN you will get something like this:</p>
<img src="/2012/03/02/Diff-Merge-Tool-Selector/main_2.png" alt="Diff Merge Tool Selector UI" title="Diff Merge Tool Selector UI">
<p>All you need is perform double-click on icon. It will launch corresponding Diff Tool with appropriate parameters. This is very helpful when you have to use different merge tools for different files or different tasks, and don’t want to reconfigure all your development tools each time.</p>
<p>If you are going to use the same tool for a known timespan you can skip this step of selecting tool each time just use “Remember my choice for N minutes” option. When DiffMergeSelector runs in this time interval it will automatically run last used Diff Tool without asking your opinion. If you want to clear this timespan you can run DiffMergeSelector.exe with “-r” command line, or “reset_last_choice.cmd” which comes in ZIP package.</p>
<p>DiffMergeSelector allows customization of command line for each Diff Tool, for example I was able to easily configure it to run Meld (which by fact is running by Python).</p>
<p>In case you are interested there are source code on <a href="https://github.com/megaboich/DiffMerge-Tool-Selector" target="_blank" rel="external">Github</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://megaboich.github.io/2012/03/02/Diff-Merge-Tool-Selector/" data-id="cip1ntgc60000xgunfn0tnk6f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Creating-OpenSocial-gadget" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/11/07/Creating-OpenSocial-gadget/" class="article-date">
  <time datetime="2011-11-06T23:00:00.000Z" itemprop="datePublished">2011-11-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/11/07/Creating-OpenSocial-gadget/">Creating OpenSocial gadget with Asp.Net MVC</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://docs.opensocial.org/display/OS/Home" target="_blank" rel="external">OpenSocial</a> is a great standard that allows implement Web-gadgets for various web-sites and portals (they are called OpenSocial Containers). Initially developed for Social Networks and driven by Google and <a href="http://code.google.com/apis/gadgets/" target="_blank" rel="external">Google gadgets</a> this standart is also becoming popular in corporate web portals sector. Currently such vendors as IBM, SAP, Cisco and many others have support for OpenSocial in theirs corporate products. All this success simply explained by the fact that OpenSocial allows quickly integrate gadgets to various of host portals.</p>
<p>I will use Simple RSS reader Web application that I have created in previous article. I am going to implement OpenSocial integration, so I will able to put my gadget with RSS to any OpenSocial container.</p>
<p>Requirements to gadget:</p>
<ol>
<li>Display list of headlines with images.</li>
<li>Loading of Rss content should be performed asynchronously by ajax, so container will not slow down while loading the page.</li>
<li>Url of feed and count of displayed items should be configurable by user.</li>
</ol>
<p>Unfortunately Rss format is not providing any information about image associated with the article. So, I updated RssReaderService a little. Now it scans article content of first <img> tag and associates that url with article. <a href="http://stackoverflow.com/questions/138839/how-do-you-parse-a-html-string-for-image-tags-to-get-at-the-src-information" target="_blank" rel="external">There are tons</a> of different ways to parse contents of HTML. I prefer to use HtmlAgilityPack library that is easy to get through NuGet package manager. I think that XPath is more maintainable than RegEx and this is more important in this case than performance.</p>
<p>Now our service layer is ready, we will go to create UI. (If you are curious about implementation, you can find a link to project sources in the end of article).</p>
<h2 id="Create-UI-for-widget"><a href="#Create-UI-for-widget" class="headerlink" title="Create UI for widget."></a>Create UI for widget.</h2><p>First create new controller action for widget:<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">Widget</span>(<span class="params"><span class="keyword">string</span> feedUrl, <span class="keyword">int</span> topCount</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> View(<span class="keyword">new</span> RssWidgetModel</span><br><span class="line">	&#123;</span><br><span class="line">		FeedSource = feedUrl,</span><br><span class="line">		TopCount = topCount</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Then create view:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">@model SimpleRssReader.Models.RssWidgetModel</span><br><span class="line">@&#123;</span><br><span class="line">	Layout = <span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">var</span> AbsoluteRootUrlPart = Request.Url.GetLeftPart(UriPartial.Authority);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"@(AbsoluteRootUrlPart + Url.Content("</span>~/Scripts/Views/WidgetHelper.js<span class="string">"))"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;link href=<span class="string">"@(AbsoluteRootUrlPart + Url.Content("</span>~/Content/HeadlinesRss.css<span class="string">"))"</span> rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">"rss-widget-content"</span>&gt;</span><br><span class="line">	&lt;div <span class="keyword">class</span>=<span class="string">"loading-indicator"</span>&gt;</span><br><span class="line">		&lt;img style=<span class="string">"margin-top:60px"</span> src=<span class="string">"@(AbsoluteRootUrlPart + Url.Content("</span>~/Content/images/ajax-loader.gif<span class="string">"))"</span> /&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"></span><br><span class="line">	$(function () &#123;</span><br><span class="line">		<span class="keyword">var</span> serviceUrl = <span class="string">'@Html.Raw(AbsoluteRootUrlPart + Url.Action("ViewHeadlines"))'</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//Default values</span></span><br><span class="line">		<span class="keyword">var</span> gadgetPrefs = &#123;</span><br><span class="line">			feedSource: <span class="string">'@Html.Raw(Model.FeedSource)'</span>,</span><br><span class="line">			topCount: <span class="string">'@Model.TopCount'</span></span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> userPrefs = $.widgetHelper.getUserProperties([<span class="string">'feedSource'</span>, <span class="string">'topCount'</span>]);</span><br><span class="line">		<span class="keyword">if</span> (userPrefs != <span class="literal">null</span>) &#123;</span><br><span class="line">			$.extend(gadgetPrefs, userPrefs);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		serviceUrl +=</span><br><span class="line">			 <span class="string">"?feedUrl="</span> + encodeURIComponent(gadgetPrefs.feedSource)</span><br><span class="line">			+ <span class="string">"&amp;topCount="</span> + encodeURIComponent(gadgetPrefs.topCount);</span><br><span class="line"></span><br><span class="line">		$.ajax(&#123;</span><br><span class="line">			url: serviceUrl,</span><br><span class="line">			dataType: <span class="string">"jsonp"</span>,</span><br><span class="line">			crossDomain: <span class="literal">true</span>,</span><br><span class="line">			success: function (data) &#123;</span><br><span class="line">				$(<span class="string">'#rss-widget-content'</span>).html(data.markup);</span><br><span class="line">				$.widgetHelper.adjustHeight();</span><br><span class="line"></span><br><span class="line">				$.widgetHelper.setTitle($(<span class="string">"#items"</span>).attr(<span class="string">'data-title'</span>));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line"></span><br><span class="line">		$(<span class="string">'body'</span>).bind(<span class="string">'imageLoad'</span>, function () &#123;</span><br><span class="line">			$.widgetHelper.adjustHeight();</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>At initial point only loading animation rendered and on documentready event will execute following script actions:</p>
<ol>
<li>Define serviceUrl and default options for gadget in gadgetPrefs object.</li>
<li>Load user settings with WidgetHelper.</li>
<li>Build url to dynamic Rss content and performing Ajax to query it.</li>
<li>On success callback retrieved HTML inserted to DOM instead of loading animation. Also called some integration functions that will implemented later to adjust gadget height and title.</li>
<li>Notice that all url’s used in view are rendered in absolute scheme. Generally this is not required for widget used in iframe, but for OpenSocial it matters a lot, and there are some reasons for that. Later when our gadget will be integrated to 3rd party container, just open View source in browser and discover how container did rendering job. Scripts and styles will be minimized and combined, and more important all view will be served from containers server. So, for calling ours resources and ajax handlers we need to specify absolute urls.</li>
</ol>
<p>I included jQuery to perform Ajax and DOM manipulations. Also there is custom script WidgetHelper.js to perform widget manipulation. This is facade for OpenSocial integration and it provides stubs when OpenSocial is not available.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">$, undefined</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">adjustHeight</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">typeof</span> (gadgets) != <span class="string">'undefined'</span>) &#123;</span><br><span class="line">			gadgets.window.adjustHeight()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">getUserProperties</span>(<span class="params">propList</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">typeof</span> (gadgets) != <span class="string">'undefined'</span>) &#123;</span><br><span class="line">			<span class="keyword">var</span> prefs = <span class="keyword">new</span> gadgets.Prefs();</span><br><span class="line">			<span class="keyword">var</span> props = &#123;&#125;;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; propList.length; ++i) &#123;</span><br><span class="line">				props[propList[i]] = prefs.getString(propList[i]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> props;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">setTitle</span>(<span class="params">newTitle</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">typeof</span> (gadgets) != <span class="string">'undefined'</span>) &#123;</span><br><span class="line">			gadgets.window.setTitle(newTitle);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	$.extend(&#123;</span><br><span class="line">		widgetHelper: &#123;</span><br><span class="line">			adjustHeight: adjustHeight,</span><br><span class="line">			getUserProperties: getUserProperties,</span><br><span class="line">			setTitle: setTitle</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>In next step create controller action for dynamic Rss content:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[JsonpMarkup]</span><br><span class="line"><span class="function"><span class="keyword">public</span> ActionResult <span class="title">ViewHeadlines</span>(<span class="params"><span class="keyword">string</span> feedUrl, <span class="keyword">int</span> topCount</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> rssService = <span class="keyword">new</span> RssReaderService();</span><br><span class="line">	<span class="keyword">var</span> model = rssService.ReadFeed(feedUrl, topCount);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> View(model);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And view:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@model SimpleRssReader.Models.RssFeedContent</span><br><span class="line">@&#123;</span><br><span class="line">	Layout = <span class="literal">null</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div id=<span class="string">"items"</span> data-title=<span class="string">"@Model.FeedTitle"</span>&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">	@<span class="keyword">foreach</span> (<span class="keyword">var</span> rssItem <span class="keyword">in</span> Model.Articles)</span><br><span class="line">	&#123;</span><br><span class="line">		&lt;li&gt;</span><br><span class="line">			&lt;h2&gt;</span><br><span class="line">				&lt;a href=<span class="string">"@rssItem.Link"</span> target=<span class="string">"_blank"</span>&gt;</span><br><span class="line">					@<span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(rssItem.TitleImage))</span><br><span class="line">					&#123; </span><br><span class="line">						&lt;img src=<span class="string">"@rssItem.TitleImage"</span> onload=<span class="string">"$('body').trigger('imageLoad');"</span> /&gt;</span><br><span class="line">					&#125;</span><br><span class="line">					@rssItem.Title</span><br><span class="line">				&lt;/a&gt;</span><br><span class="line">			&lt;/h2&gt;</span><br><span class="line">		&lt;/li&gt;</span><br><span class="line">	&#125;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>At this point after compiling and fixing some minor problems there should be available working widget at url like this : <a href="http://localhost/reader/RssReader/Widget?feedUrl=http%3A%2F%2Fnews.google.com%2Fnews%3Ftopic%3Db%26output%3Drss&amp;topCount=10" target="_blank" rel="external">http://localhost/reader/RssReader/Widget?feedUrl=http%3A%2F%2Fnews.google.com%2Fnews%3Ftopic%3Db%26output%3Drss&amp;topCount=10</a></p>
<p>And you should get view like this:<br><img src="/2011/11/07/Creating-OpenSocial-gadget/initialWidgetView_4.png" alt="View of the widget in the browser" title="View of the widget in the browser"></p>
<h2 id="Create-Gadget-XML"><a href="#Create-Gadget-XML" class="headerlink" title="Create Gadget XML."></a>Create Gadget XML.</h2><p>OpenSocial Gadget should be described in XML according to specification. To achieve this let’s create Controller and View.</p>
<p>Controller code:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Web;</span><br><span class="line"><span class="keyword">using</span> System.Web.Mvc;</span><br><span class="line"><span class="keyword">using</span> SimpleRssReader.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SimpleRssReader.Controllers</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OpenSocialController</span> : <span class="title">Controller</span></span><br><span class="line">	&#123;</span><br><span class="line">		[HttpGet]</span><br><span class="line">		<span class="function"><span class="keyword">public</span> ActionResult <span class="title">RssFeedGadget</span>(<span class="params"></span><br><span class="line">			<span class="keyword">string</span> feed = <span class="string">"http://news.google.com/news?topic=b&amp;output=rss"</span>,</span><br><span class="line">			<span class="keyword">int</span> top = <span class="number">10</span></span>)</span><br><span class="line">		</span>&#123;</span><br><span class="line">			ViewBag.FeedSource = feed;</span><br><span class="line">			ViewBag.TopCount = top;</span><br><span class="line">			<span class="keyword">return</span> View(<span class="string">"RssFeedGadget"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And this is View:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">using</span> System;</span><br><span class="line">@&#123;</span><br><span class="line">	Layout = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span> ?&gt;</span><br><span class="line">&lt;Module&gt;</span><br><span class="line">	&lt;ModulePrefs title=<span class="string">"Rss Feed Widget"</span> author=<span class="string">"Oleksandr Boiko"</span> author_email=<span class="string">"mega.boich@gmail.com"</span> height=<span class="string">"160"</span>&gt;</span><br><span class="line">		&lt;Require feature=<span class="string">"opensocial-0.9"</span> /&gt;</span><br><span class="line">		&lt;Require feature=<span class="string">"dynamic-height"</span>/&gt;</span><br><span class="line">		&lt;Require feature=<span class="string">"settitle"</span>/&gt;</span><br><span class="line">	&lt;/ModulePrefs&gt;</span><br><span class="line">	&lt;UserPref name=<span class="string">"feedSource"</span> display_name=<span class="string">"Feed Source"</span> default_value=<span class="string">"http://news.google.com/news?topic=b&amp;amp;output=rss"</span>/&gt;</span><br><span class="line">	&lt;UserPref name=<span class="string">"topCount"</span> display_name=<span class="string">"Top Count"</span> default_value=<span class="string">"10"</span>/&gt;</span><br><span class="line">	&lt;Content type=<span class="string">"html"</span>&gt;</span><br><span class="line">&lt;![CDATA[</span><br><span class="line">	@Html.Action(<span class="string">"Widget"</span>, <span class="string">"RssReader"</span>, <span class="keyword">new</span> &#123; feedUrl = ViewBag.FeedSource, topCount = ViewBag.TopCount &#125;)</span><br><span class="line">]]&gt;</span><br><span class="line">	&lt;/Content&gt;</span><br><span class="line">&lt;/Module&gt;</span><br><span class="line">@&#123;</span><br><span class="line">	Response.ContentType = <span class="string">"text/xml"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This is OpenSocial Gadget Xml, and it contains all information to render gadget in container. Google have good <a href="http://code.google.com/intl/uk-UA/apis/gadgets/docs/gs.html" target="_blank" rel="external">documentation</a> about this. In ModulePrefs section located copyright attributes and required features. UserPref sections contains user preferences that will be available to user. Access to this preferences is performed via OpenSocial Javascript API in WidgetHelper.js. Section Content is the container for HTML, CSS, Javascript. Here goes rendering of the Widget action.</p>
<p>So, now you should have a working gadget XML available at url like this: <a href="http://localhost/reader/OpenSocial/RssFeedGadget?feedUrl=http%3A%2F%2Fnews.google.com%2Fnews%3Ftopic%3Db%26output%3Drss&amp;topCount=10" target="_blank" rel="external">http://localhost/reader/OpenSocial/RssFeedGadget?feedUrl=http%3A%2F%2Fnews.google.com%2Fnews%3Ftopic%3Db%26output%3Drss&amp;topCount=10</a></p>
<img src="/2011/11/07/Creating-OpenSocial-gadget/gadgetXml_2.png" alt="View of the widget XML" title="View of the widget XML">
<h2 id="Deploy-gadget-to-container"><a href="#Deploy-gadget-to-container" class="headerlink" title="Deploy gadget to container."></a>Deploy gadget to container.</h2><p><a href="http://www.liferay.com/downloads/liferay-portal/available-releases" target="_blank" rel="external">LifeRay</a> portal is a good choice in order to test OpenSocial gadgets. Though it written in Java this product is easy to install and run. You should have Java virtual machine on your test computer in order to run this portal. To install just extract zip archive and run \liferay-portal-6.1.0\tomcat-7.0.21\bin\startup.bat. Then tomcat web server will be run on port 8080 by default with Liferay portal. Looks impressive.</p>
<img src="/2011/11/07/Creating-OpenSocial-gadget/LiferayFirstStart_2.png" alt="View of the LifeRay portal" title="View of the LifeRay portal">
<p>To add our fresh OpenSocial gadget to portal first login to LifeRay under administrator account. There are special quick login links o the main page. Press “Login as Bruno”. Then find menu in the top “Add”-&gt;”More”-&gt;”Install More Applications”. Scroll down, find “Open Social” link and click. Page should look similar to this:</p>
<img src="/2011/11/07/Creating-OpenSocial-gadget/LifeRayInsertGadgetUrl_2.png" alt="View of the LifeRay Insert Gadget UI" title="View of the LifeRay Insert Gadget UI">
<p>Insert url to Rss gadget, press “Save”. Okay, now add gadget to the page. To achieve this navigate to main page or whatever page you like and select in top menu “Add”-&gt;”More”-&gt;”Gadgets”-&gt;”Rss Feed Widget”. Gadget should be added to page.</p>
<img src="/2011/11/07/Creating-OpenSocial-gadget/LifeRayWithGadget_2.png" alt="View of the LifeRay with our gadget" title="View of the LifeRay with our gadget">
<p>Just what we need. Also, in gadget menu there are available option “Configuration”.</p>
<img src="/2011/11/07/Creating-OpenSocial-gadget/GadgetSettings_2.png" alt="View of the LifeRay with configuration" title="View of the LifeRay with configuration">
<p>There are our gadget preferences, and they are managed by Liferay Container. We get access to this values via OpenSocial javascript API in WidgetHelper.js.</p>
<p>Also as a little surprise you can find out that our gadget is fully compatible with iGoogle gadgets, and you can add it to iGoogle page. To perform this you must follow next steps:</p>
<ol>
<li>Deploy your website to hosting that will be accessible by google. I have deployed it to <a href="http://apps.megaboich.com/rssreader" target="_blank" rel="external">http://apps.megaboich.com/rssreader</a>.</li>
<li>Ensure that application deployed correctly and gadget XML is available by public Url.</li>
<li>Go to <a href="http://www.google.com/ig" target="_blank" rel="external">http://www.google.com/ig</a> then login, press “Add gadgets” red button, on the next page in left bottom corner find “Add feed or gadget”. Then enter url for your gadget XML and confirm your action.</li>
</ol>
<img src="/2011/11/07/Creating-OpenSocial-gadget/Gadget%20on%20iGoogle_2.png" alt="iGoogle with our gadget" title="iGoogle with our gadget">
<p>All sources are available at <a href="https://bitbucket.org/megaboich/simplerssreader" target="_blank" rel="external">BitBucket</a>.</p>
<p>Enjoy.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://megaboich.github.io/2011/11/07/Creating-OpenSocial-gadget/" data-id="cip1ntgce0002xgun5lpczjlg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenSocial/">OpenSocial</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Creating-Simple-RSS-Reader" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2011/08/12/Creating-Simple-RSS-Reader/" class="article-date">
  <time datetime="2011-08-11T22:00:00.000Z" itemprop="datePublished">2011-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2011/08/12/Creating-Simple-RSS-Reader/">Creating Simple RSS Reader Web application with C# and Asp.Net MVC.</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>In this article I’ll create simple web application using Microsoft Asp.Net MVC framework. The main functionality is to read RSS feed and show feed contents in simple HTML view.</p>
<h2 id="Step-1-Create-Empty-MVC-Application"><a href="#Step-1-Create-Empty-MVC-Application" class="headerlink" title="Step 1. Create Empty MVC Application."></a>Step 1. Create Empty MVC Application.</h2><p>First of all use Visual Studio menu “File/New project…” then select Asp.Net MVC3 application template and select “Empty” option. We don’t need all this standard stuff, this simple application will be created from scratch.</p>
<p>Then, let’s create Home controller with action Index and simple View (using Razor engine).</p>
<img src="/2011/08/12/Creating-Simple-RSS-Reader/3_2.png" alt="Initial code" title="Initial code">
<p>Just hit F5 and ensure that browser opens with our empty page titled “Simple RSS Reader”. This is already working Asp.net application; we just need to add functionality to read, parse and show RSS feed. Fast searching in internet shows that there is a great open-source library for .NET named Argotic <a href="http://argotic.codeplex.com/" target="_blank" rel="external">http://argotic.codeplex.com/</a>. Let’s try it and find out how really helpful it is to use 3rd party libraries. Ok, let’s move.</p>
<h2 id="Step-2-Use-Argotic-Syndication-Framework"><a href="#Step-2-Use-Argotic-Syndication-Framework" class="headerlink" title="Step 2. Use Argotic Syndication Framework."></a>Step 2. Use Argotic Syndication Framework.</h2><p>On the main site of Argotic you can download installation package with full sources, binaries and documentation. Then, you may traditionally copy required binaries to lib folder of your application, then add references, then make changes in Web.config file and/or every place required by component. But in this case I will use NuGet <a href="http://nuget.codeplex.com/" target="_blank" rel="external">http://nuget.codeplex.com/</a>. Thankfully it was already registered Argotic.Web package in the repository, and I will add it from “Manage Nuget Packages” tool dialog (This dialog can be found in Visual Studio main menu “Tools/Library Package Manages/ “).</p>
<img src="/2011/08/12/Creating-Simple-RSS-Reader/5_2.png" alt="Install NuGet package dialog" title="Install NuGet package dialog">
<p>Hit Install button, and wait some time while NuGet downloads packages and makes changes in configuration files.</p>
<p>Then, after reading some very helpful <a href="http://argotic.codeplex.com/wikipage?title=Consuming%20an%20Atom%20feed%20or%20Atom%20entry%20document" target="_blank" rel="external">documentation</a> I was able to create RssReaderService class that serves a feed content model to controller. All 3rd-party invocations are used inside this class.</p>
<p>The model:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RssArticle</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> Uri Link &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> DateTime PublicationDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">string</span> Content &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">string</span> Title &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">string</span> Author &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RssFeedContent</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">string</span> FeedTitle &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> IEnumerable&lt;RssArticle&gt; Articles &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And here goes the service:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RssReaderService</span>: <span class="title">IRssReaderService</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">RssReaderService</span>(<span class="params"></span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> RssFeedContent <span class="title">ReadFeed</span>(<span class="params"><span class="keyword">string</span> feedUrl, <span class="keyword">int</span> numberOfItems</span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> settings = <span class="keyword">new</span> SyndicationResourceLoadSettings</span><br><span class="line">		&#123;</span><br><span class="line">			RetrievalLimit = numberOfItems</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="keyword">var</span> feed = GenericSyndicationFeed.Create(<span class="keyword">new</span> Uri(feedUrl), settings);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (feed.Resource <span class="keyword">is</span> RssFeed)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> ReadRssFeed((RssFeed)feed.Resource);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (feed.Resource <span class="keyword">is</span> AtomFeed)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> ReadAtomFeed((AtomFeed)feed.Resource);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="string">"Feed has unsupported format"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> RssFeedContent <span class="title">ReadRssFeed</span>(<span class="params">RssFeed feed</span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> rssContentModel = <span class="keyword">new</span> RssFeedContent</span><br><span class="line">		&#123;</span><br><span class="line">			FeedTitle = feed.Channel.Title,</span><br><span class="line">			Articles = feed.Channel.Items.Select(item =&gt; <span class="keyword">new</span> RssArticle</span><br><span class="line">			&#123;</span><br><span class="line">				Title = item.Title,</span><br><span class="line">				Content = item.Description,</span><br><span class="line">				PublicationDate = item.PublicationDate,</span><br><span class="line">				Link = item.Link,</span><br><span class="line">				Author = item.Author</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> rssContentModel;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> RssFeedContent <span class="title">ReadAtomFeed</span>(<span class="params">AtomFeed feed</span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> rssContentModel = <span class="keyword">new</span> RssFeedContent</span><br><span class="line">		&#123;</span><br><span class="line">			FeedTitle = feed.Title.Content,</span><br><span class="line">			Articles = feed.Entries.Select(item =&gt; <span class="keyword">new</span> RssArticle</span><br><span class="line">			&#123;</span><br><span class="line">				Title = item.Title.Content,</span><br><span class="line">				Content = item.Content.Content,</span><br><span class="line">				PublicationDate = item.PublishedOn,</span><br><span class="line">				Link = item.Links.FirstOrDefault().Uri,</span><br><span class="line">				Author = <span class="keyword">string</span>.Join(<span class="string">", "</span>, item.Authors.Select(a =&gt; a.Name))</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> rssContentModel;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As you can see RssReaderService is able to read RSS and Atom feed formats.</p>
<p>Then, next step is to use our new service from controller and update view to display the feed. So, the controller:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HomeController</span> : <span class="title">Controller</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>(<span class="params"><span class="keyword">string</span> rssUrl</span>)</span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="keyword">var</span> rssService = <span class="keyword">new</span> RssReaderService();</span><br><span class="line">		<span class="keyword">var</span> model = rssService.ReadFeed(rssUrl, <span class="number">10</span>);</span><br><span class="line">		<span class="keyword">return</span> View(model);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And view:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">@model SimpleRssReader.Models.RssFeedContent</span><br><span class="line">@&#123;</span><br><span class="line">	Layout = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;title&gt;@Model.FeedTitle&lt;/title&gt;</span><br><span class="line">	&lt;link href=<span class="string">"@Url.Content("</span>~/Content/Rss.css<span class="string">")"</span> rel=<span class="string">"stylesheet"</span> type=<span class="string">"text/css"</span> /&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id=<span class="string">"items"</span>&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">	@<span class="keyword">foreach</span> (<span class="keyword">var</span> rssItem <span class="keyword">in</span> Model.Articles)</span><br><span class="line">	&#123;</span><br><span class="line">		&lt;li&gt;</span><br><span class="line">			&lt;h2&gt;</span><br><span class="line">				&lt;a href=<span class="string">"@rssItem.Link"</span>&gt;@rssItem.Title&lt;/a&gt;</span><br><span class="line">			&lt;/h2&gt;</span><br><span class="line">			&lt;p&gt;</span><br><span class="line">				@rssItem.PublicationDate.ToLongDateString()</span><br><span class="line">				@rssItem.Author</span><br><span class="line">			&lt;/p&gt;</span><br><span class="line">			&lt;div&gt;</span><br><span class="line">				@Html.Raw(rssItem.Content)</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		&lt;/li&gt;</span><br><span class="line">	&#125;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>Also I wrote a little CSS style sheet “Rss.css” to prettify results.</p>
<p>That’s all. Now Web application will show top 10 items from RSS feed specified in rssUrl url parameter. For example let’s show Amazon feed, my url looks like this: <a href="http://localhost:26807/?rssUrl=http://www.amazon.com/rss/tag/smartphone/popular/ref=tag_rsh_hl_erso" target="_blank" rel="external">http://localhost:26807/?rssUrl=http://www.amazon.com/rss/tag/smartphone/popular/ref=tag_rsh_hl_erso</a>.</p>
<p>This is what result page looks like.</p>
<img src="/2011/08/12/Creating-Simple-RSS-Reader/6_2.png" alt="Result page" title="Result page">
<p>The end.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://megaboich.github.io/2011/08/12/Creating-Simple-RSS-Reader/" data-id="cip1ntgcw0007xgunzfsk2blk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RSS/">RSS</a></li></ul>

    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Asp-Net-MVC/">Asp.Net MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GIT-SVN/">GIT SVN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenSocial/">OpenSocial</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Powershell/">Powershell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RSS/">RSS</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Asp-Net-MVC/" style="font-size: 20px;">Asp.Net MVC</a> <a href="/tags/C/" style="font-size: 20px;">C#</a> <a href="/tags/GIT-SVN/" style="font-size: 10px;">GIT SVN</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/OpenSocial/" style="font-size: 10px;">OpenSocial</a> <a href="/tags/Powershell/" style="font-size: 10px;">Powershell</a> <a href="/tags/RSS/" style="font-size: 10px;">RSS</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">November 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/04/02/Setting-Up-Git-Svn-From-Very-Beginning/">Setting up Git-Svn from very beginning</a>
          </li>
        
          <li>
            <a href="/2013/06/11/Javascript-implementation-of-custom-AStar-Algorithm/">Javascript implementation of custom A* algorithm</a>
          </li>
        
          <li>
            <a href="/2012/08/06/PowerShell-View-Engine-Asp-style/">PowerShell View Engine - Asp style</a>
          </li>
        
          <li>
            <a href="/2012/03/02/Diff-Merge-Tool-Selector/">Diff Merge Tool Selector</a>
          </li>
        
          <li>
            <a href="/2011/11/07/Creating-OpenSocial-gadget/">Creating OpenSocial gadget with Asp.Net MVC</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Oleksandr Boiko<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>